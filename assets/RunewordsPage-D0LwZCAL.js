import{u as L,j as e,P as I,S as B}from"./index-9VcAPv-v.js";import{r as o,u as P,L as W}from"./vendor-react-Y6pfRwed.js";import{c as h}from"./vendor-clsx-B-dksMZM.js";import{R as y}from"./data-runewords-DQoXqS6f.js";import{A as F}from"./AutocompleteSearch-BXcItIGr.js";import{a5 as N,P as M,S,a6 as z,i as C,a3 as $,a7 as D,X as H,a2 as K}from"./vendor-lucide-BXr1dVvO.js";import"./data-items-CnbwravW.js";import"./data-sets-BBHdt6-a.js";import"./data-cube-mDo7rniB.js";const k="d2r_owned_runes";function U(){const{user:a}=L(),[n,i]=o.useState(!1),[r,m]=o.useState(()=>{try{const l=localStorage.getItem(k);return l?new Set(JSON.parse(l)):new Set}catch(l){return console.error("Failed to load Runes data",l),new Set}}),d=o.useRef(!1);return o.useEffect(()=>{try{localStorage.setItem(k,JSON.stringify(Array.from(r)))}catch(l){console.error("Failed to save Runes data",l)}},[r]),o.useEffect(()=>{if(!a){d.current=!1;return}const l=async()=>{i(!0);try{await new Promise(x=>setTimeout(x,1e3)),d.current=!0}catch(x){console.error("Cloud sync failed",x)}finally{i(!1)}};d.current||l()},[a,r]),{ownedRunes:r,toggleRune:l=>{m(x=>{const g=new Set(x);return g.has(l)?g.delete(l):g.add(l),g})},clearRunes:()=>m(new Set),isSyncing:n}}const G=[2,3,4,5,6],J=["Body Armor","Shield","Sword","Polearm","Helmet","Staff","Weapon","Axe","Mace","Claw","Bow","Crossbow","Scepter","Wand"],q=["El","Eld","Tir","Nef","Eth","Ith","Tal","Ral","Ort","Thul","Amn","Sol","Shael","Dol","Hel","Io","Lum","Ko","Fal","Lem","Pul","Um","Mal","Ist","Gul","Vex","Ohm","Lo","Sur","Ber","Jah","Cham","Zod"],R={S:0,A:1,B:2,C:3};function le(){const a=P(),[n,i]=o.useState(""),[r,m]=o.useState([]),[d,u]=o.useState(null),{ownedRunes:c,toggleRune:l,clearRunes:x,isSyncing:g}=U(),[w,_]=o.useState(!1),T=o.useMemo(()=>y.map(s=>({id:s.name.toLowerCase().replace(/[^a-z0-9]/g,"-"),label:s.name,category:`${s.sockets} sockets â€¢ ${s.runes.join(" + ")}`,icon:s.tier==="S"?"ðŸ†":s.tier==="A"?"â­":"ðŸ“œ"})),[]),E=s=>{a(`/runewords/${s.id}`)},O=s=>{m(t=>t.includes(s)?t.filter(p=>p!==s):[...t,s])},b=o.useMemo(()=>y.filter(t=>{const p=!n||t.name.toLowerCase().includes(n.toLowerCase())||t.runes.some(j=>j.toLowerCase().includes(n.toLowerCase())),f=r.length===0||r.includes(t.sockets),v=!d||t.bases.includes(d)||d==="Weapon"&&(t.bases.includes("Sword")||t.bases.includes("Axe")||t.bases.includes("Mace")||t.bases.includes("Polearm")||t.bases.includes("Scepter")||t.bases.includes("Staff")||t.bases.includes("Wand")||t.bases.includes("Melee Weapon")||t.bases.includes("Missile Weapon")||t.bases.includes("Claw")),A=c.size===0||t.runes.some(j=>c.has(j));return p&&f&&v&&A}).sort((t,p)=>{const f=R[t.tier]??99,v=R[p.tier]??99;return f-v}),[n,r,d,c]);return e.jsxs(I,{className:"pb-20",children:[e.jsx(B,{title:"Runeword Wizard",description:"Find the best Diablo 2 Resurrected runewords. Filter by runes, sockets, and item bases.",url:"/runewords"}),e.jsxs("div",{className:"relative mb-10 py-12 px-8 rounded-3xl overflow-hidden glass-heavy shadow-[0_0_60px_rgba(0,0,0,0.6)] border border-d2-gold/10 group",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('https://wallpapers.com/images/hd/diablo-2-resurrected-background-1920-x-1080-8n5q6y8w7e9r0t1y.jpg')] bg-cover bg-center opacity-20 mix-blend-overlay group-hover:scale-105 transition-transform duration-[20s]"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/90 via-black/70 to-transparent"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-d2-gold/5 blur-[100px] rounded-full pointer-events-none"}),e.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-end gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-d2-gold/10 border border-d2-gold/20 text-d2-gold text-xs font-bold uppercase tracking-widest mb-4",children:[e.jsx(N,{size:12,className:"animate-spin-slow"})," Library Updated"]}),e.jsxs("h1",{className:"text-5xl md:text-6xl font-cinzel font-bold text-white tracking-tight drop-shadow-lg mb-4",children:["Runeword ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-d2-gold to-yellow-200",children:"Wizard"})]}),e.jsx("p",{className:"text-gray-400 font-serif text-lg max-w-xl leading-relaxed",children:"The ancient Horadric texts have been deciphered. Combine runes to forge items of legendary power."})]}),e.jsx("div",{className:"flex flex-col items-end gap-3",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-3xl font-bold text-white font-cinzel",children:b.length}),e.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest",children:"Combinations"})]}),e.jsx("div",{className:"w-px h-10 bg-white/10"}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-3xl font-bold text-d2-gold font-cinzel",children:y.length}),e.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest",children:"Total Known"})]})]})}),e.jsx("button",{onClick:()=>_(!w),className:"md:hidden absolute top-4 right-4 p-2 glass-panel rounded-full text-d2-gold hover:bg-d2-gold/20",children:e.jsx(M,{size:20})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[320px_1fr] gap-8 items-start",children:[e.jsxs("div",{className:h("glass-heavy rounded-2xl p-6 space-y-8 transition-all sticky top-24 border border-white/5 shadow-2xl backdrop-blur-2xl",w?"block":"hidden lg:block animate-in slide-in-from-left-4 duration-500"),children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(S,{size:12,className:"text-d2-gold"})," Filter by Name"]}),e.jsx(F,{options:T,placeholder:"Search (e.g. Enigma)",value:n,onChange:i,onSelect:E})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(z,{size:12,className:"text-d2-gold"})," Socket Count"]}),e.jsx("div",{className:"flex gap-2",children:G.map(s=>e.jsx("button",{onClick:()=>O(s),className:h("w-10 h-10 rounded-xl font-bold transition-all flex items-center justify-center font-cinzel relative overflow-hidden group border",r.includes(s)?"bg-d2-gold text-black border-d2-gold shadow-[0_0_15px_rgba(199,179,119,0.3)] scale-110":"bg-black/40 text-gray-500 border-white/10 hover:border-gray-500 hover:text-white"),children:e.jsx("span",{className:"relative z-10",children:s})},s))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(C,{size:12,className:"text-d2-gold"})," Base Item"]}),e.jsxs("div",{className:"relative group",children:[e.jsxs("select",{value:d||"",onChange:s=>u(s.target.value||null),className:"w-full appearance-none bg-black/40 border border-white/10 rounded-xl py-3 px-4 text-gray-300 focus:border-d2-gold focus:outline-none cursor-pointer transition-all hover:bg-black/60 font-sans text-sm",children:[e.jsx("option",{value:"",children:"Any Base Type"}),J.map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsx($,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 pointer-events-none group-hover:text-d2-gold transition-colors",size:16})]})]}),e.jsxs("div",{className:"space-y-4 pt-6 border-t border-white/5",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("label",{className:"text-xs font-bold text-d2-gold uppercase tracking-widest flex items-center gap-2",children:[e.jsx(D,{size:12})," My Rune Stash"]}),g&&e.jsx(N,{size:10,className:"animate-spin text-blue-400"})]}),c.size>0&&e.jsxs("button",{onClick:x,className:"text-[10px] text-red-400 hover:text-white font-bold uppercase flex items-center gap-1 bg-red-900/20 px-2 py-1 rounded hover:bg-red-900/40 transition-colors",children:[e.jsx(H,{size:10})," Clear"]})]}),e.jsx("div",{className:"bg-black/60 p-2 rounded-lg border border-white/10 inner-shadow custom-scrollbar max-h-[300px] overflow-y-auto",children:e.jsx("div",{className:"grid grid-cols-4 gap-1.5",children:q.map(s=>e.jsxs("button",{onClick:()=>l(s),title:s,className:h("aspect-square rounded border text-[10px] font-bold uppercase transition-all flex flex-col items-center justify-center relative overflow-hidden group",c.has(s)?"bg-gradient-to-br from-orange-900/80 to-black text-orange-400 border-orange-500/50 shadow-[inset_0_0_10px_rgba(0,0,0,0.8)]":"bg-[#111] text-gray-700 border-white/5 hover:border-gray-600 hover:text-gray-400"),children:[e.jsx("div",{className:h("w-6 h-6 mb-0.5 opacity-80 bg-contain bg-center bg-no-repeat",c.has(s)?"brightness-100":"grayscale opacity-30"),style:{backgroundImage:`url(https://diablo2.io/styles/diablo2/theme/images/runes/${s.toLowerCase()}.png)`},children:!c.has(s)&&e.jsx("div",{className:"w-full h-full bg-black/50"})}),e.jsx("span",{className:"scale-[0.85]",children:s})]},s))})}),e.jsx("p",{className:"text-[10px] text-center text-gray-600 italic",children:"Select runes to filter for recipes you can craft."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-in fade-in slide-in-from-bottom-8 duration-700 delay-100",children:[b.map((s,t)=>e.jsx(V,{runeword:s},t)),b.length===0&&e.jsxs("div",{className:"col-span-full py-24 text-center glass-heavy border border-white/5 rounded-2xl flex flex-col items-center justify-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-red-900/10 to-transparent pointer-events-none"}),e.jsx(S,{size:64,className:"text-gray-700 mb-6"}),e.jsx("h3",{className:"text-3xl font-cinzel font-bold text-gray-300 mb-3",children:"No Scrolls Found"}),e.jsxs("p",{className:"text-gray-500 max-w-sm mx-auto mb-8 leading-relaxed",children:["The desired combination does not exist in our archives.",e.jsx("br",{}),"Try removing some filters to broaden your search."]}),(r.length>0||d||c.size>0||n)&&e.jsxs("button",{onClick:()=>{i(""),m([]),u(null),x()},className:"flex items-center gap-2 px-8 py-3 bg-d2-gold text-black border border-d2-gold rounded shadow-[0_0_20px_rgba(199,179,119,0.2)] hover:shadow-[0_0_30px_rgba(199,179,119,0.4)] hover:bg-white transition-all font-bold uppercase text-xs tracking-widest",children:[e.jsx(K,{size:14})," Reset Filters"]})]})]})]})]})}function V({runeword:a}){const n=a.name.toLowerCase().replace(/[^a-z0-9]/g,"-");return e.jsxs(W,{to:`/runewords/${n}`,className:"group block glass-heavy rounded-xl overflow-hidden border border-white/5 hover:border-d2-gold/50 transition-all hover:shadow-[0_0_50px_rgba(0,0,0,0.5)] relative flex flex-col h-full hover:-translate-y-1 duration-300 bg-black/40",children:[e.jsxs("div",{className:"p-6 relative z-10 flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6 border-b border-white/5 pb-4 group-hover:border-white/10 transition-colors",children:[e.jsxs("div",{children:[e.jsx("h3",{className:h("font-cinzel text-2xl font-bold mb-1 group-hover:text-d2-gold transition-colors tracking-wide",a.tier==="S"?"text-d2-gold drop-shadow-md":"text-gray-200"),children:a.name}),e.jsxs("div",{className:"text-xs text-uppercase tracking-wider text-gray-500 font-bold flex items-center gap-2 mt-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 rounded bg-white/5 border border-white/5",children:[e.jsx(C,{size:10}),e.jsxs("span",{className:"text-gray-300",children:[a.bases[0],a.bases.length>1?` +${a.bases.length-1}`:""]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 rounded bg-white/5 border border-white/5",children:[e.jsx(z,{size:10}),e.jsxs("span",{className:"text-d2-gold",children:[a.sockets," Sockets"]})]})]})]}),e.jsx("div",{className:"text-right flex flex-col items-end gap-2",children:e.jsxs("div",{className:h("text-[10px] font-bold px-2 py-0.5 rounded border uppercase backdrop-blur-md shadow-lg tracking-widest",a.tier==="S"?"bg-gradient-to-r from-d2-gold/20 to-yellow-600/20 text-d2-gold border-d2-gold/40":a.tier==="A"?"bg-purple-900/20 text-purple-300 border-purple-500/30":"bg-gray-800/80 text-gray-500 border-gray-700"),children:["Tier ",a.tier]})})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mb-6 relative",children:[e.jsx("div",{className:"absolute top-1/2 left-2 right-2 h-px bg-white/5 group-hover:bg-d2-gold/10 transition-colors -z-10"}),a.runes.map((i,r)=>e.jsxs("div",{className:"flex flex-col items-center gap-2 group/rune relative z-0",children:[e.jsxs("div",{className:"w-12 h-12 flex items-center justify-center bg-black/80 border border-white/10 rounded-lg text-sm font-bold text-orange-400 group-hover/rune:border-orange-500/50 group-hover/rune:text-orange-300 transition-all shadow-xl group-hover/rune:shadow-orange-900/30 relative overflow-hidden",children:[i.substring(0,2),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-orange-900/20 opacity-0 group-hover/rune:opacity-100 transition-opacity"})]}),e.jsx("span",{className:"text-[10px] uppercase text-gray-600 font-bold group-hover/rune:text-gray-400 tracking-wider shadow-black drop-shadow-md",children:i})]},r))]}),e.jsxs("div",{className:"space-y-2 mb-2 flex-grow bg-black/20 p-4 rounded-xl border border-white/5 shadow-inner",children:[a.stats.slice(0,4).map((i,r)=>e.jsxs("div",{className:"text-sm text-gray-400 font-medium leading-snug flex items-start gap-2.5",children:[e.jsx("div",{className:"w-1 h-1 bg-d2-gold/50 rounded-full mt-2 flex-shrink-0 shadow-[0_0_5px_rgba(199,179,119,0.5)]"}),e.jsx("span",{className:"group-hover:text-gray-300 transition-colors",children:i})]},r)),a.stats.length>4&&e.jsxs("div",{className:"text-[10px] uppercase tracking-widest text-gray-600 pt-2 pl-3 group-hover:text-d2-gold/70 transition-colors",children:["+",a.stats.length-4," more properties"]})]})]}),e.jsx("div",{className:"absolute -inset-full bg-gradient-to-r from-transparent via-white/5 to-transparent skew-x-12 opacity-0 group-hover:animate-shine pointer-events-none"})]})}export{le as RunewordsPage};
